<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Opioid Pal: Palliative Care</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="apple-touch-icon" href="icon-192.png">
    <meta name="theme-color" content="#FFdfd3">
</head>
<body>

    <div class="app-container">
        <header>
            <h1>üíä Opioid Pal</h1>
            <p>‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡∏¢‡∏≤‡πÅ‡∏Å‡πâ‡∏õ‡∏ß‡∏î</p>
        </header>

        <nav class="tabs">
            <button class="tab-btn active" onclick="openTab('conversion')">üîÑ ‡πÅ‡∏õ‡∏•‡∏á‡∏¢‡∏≤ (Conversion)</button>
            <button class="tab-btn" onclick="openTab('management')">üìã ‡∏õ‡∏£‡∏±‡∏ö‡∏¢‡∏≤ (Management)</button>
        </nav>

        <section id="conversion" class="tab-content active">
            <div class="card input-card">
                <h3>‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏¢‡∏≤‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà</h3>
                <div class="form-group">
                    <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡∏¢‡∏≤:</label>
                    <select id="sourceDrug">
                        <option value="tramadol">Tramadol (mg/day)</option>
                        <option value="codeine">Codeine (mg/day)</option>
                        <option value="morphine_po">Morphine Oral (mg/day)</option>
                        <option value="morphine_iv">Morphine IV/SC (mg/day)</option>
                        <option value="fentanyl">Fentanyl Patch (mcg/hr)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏£‡∏ß‡∏°‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô (Total Daily Dose):</label>
                    <input type="number" id="sourceDose" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç (‡πÄ‡∏ä‡πà‡∏ô 60)" oninput="calculateConversion()">
                </div>
            </div>

            <div class="card result-card" id="conversionResult" style="display:none;">
                <h3>üìä ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡πà‡∏≤ (Equianalgesic Doses)</h3>
                <table class="pastel-table">
                    <thead>
                        <tr>
                            <th>‡∏ï‡∏±‡∏ß‡∏¢‡∏≤</th>
                            <th>‡∏Ç‡∏ô‡∏≤‡∏î‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</th>
                            <th>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</th>
                        </tr>
                    </thead>
                    <tbody id="conversionTableBody">
                        </tbody>
                </table>
                <div class="alert-box">
                    <small>*‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô: Opioid conversion ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£ ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏•‡∏î dose ‡∏•‡∏á 25-50% ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ (Incomplete cross-tolerance)</small>
                </div>
            </div>
        </section>

        <section id="management" class="tab-content">
            <div class="card input-card">
                <h3>‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢</h3>
                <div class="form-group">
                    <label>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏ß‡∏î (Pain Score 0-10):</label>
                    <input type="range" id="painScore" min="0" max="10" value="5" oninput="updateRangeVal(this.value)">
                    <span id="painScoreVal" class="badge">5 - Moderate</span>
                </div>
                
                <div class="form-group">
                    <label>‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏¢‡∏≤ Opioids:</label>
                    <div class="radio-group">
                        <input type="radio" id="naive" name="history" value="naive" checked>
                        <label for="naive">‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢‡πÉ‡∏ä‡πâ (Naive)</label>
                        
                        <input type="radio" id="user" name="history" value="user">
                        <label for="user">‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏î‡∏¥‡∏° (On Opioids)</label>
                    </div>
                </div>

                <div id="currentOpioidSection" class="form-group" style="display:none;">
                    <label>‡∏Ç‡∏ô‡∏≤‡∏î‡∏¢‡∏≤‡πÄ‡∏î‡∏¥‡∏° (Oral Morphine Eq):</label>
                    <input type="number" id="currentDose" placeholder="mg/day">
                </div>

                <button class="btn-primary" onclick="generatePlan()">‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤</button>
            </div>

            <div id="planResult" class="card result-card" style="display:none;">
                </div>
        </section>

        <footer>
            <p>Reference: Palliative Care Guidelines (Based on provided images)</p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>
